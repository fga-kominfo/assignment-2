<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <title>Riwayat Hidup</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="p-3 m-0 border-0 bd-example m-0 border-0">

    <!-- Section Profile -->
    <div class="container">
        <div class="row mb-3">
            <div class="card">
                <div class="card-body">
                    <h1 class="text-center">Profile</h1>
                    <hr>
                    <div class="row">
                        <div class="col-lg-3 col-md-12">
                            <img src="https://via.placeholder.com/150" alt="Foto" class="img-thumbnail">
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <h2 id="resume-name">Yusuf</h2>
                            <p id="resume-role">Frontend Developer</p>
                            <hr>
                            <!-- Button -->
                            <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                                <a href="#" class="btn btn-success" id="resume-toggle">
                                    Kontak
                                </a>
                                <a href="https://www.linkedin.com/in/yusuf-azis-7b0b3b1b0/" class="btn btn-primary" target="_blank">
                                    Resume
                                </a>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6">
                            <table class="table">
                                <tr>
                                    <td>Availablity</td>
                                    <td>:</td>
                                    <td id="resume-availability">Full-time</td>
                                </tr>
                                <tr>
                                    <td>Usia</td>
                                    <td>:</td>
                                    <td id="resume-age">20 Tahun</td>
                                </tr>
                                <tr>
                                    <td>Lokasi</td>
                                    <td>:</td>
                                    <td id="resume-location">Bandung, Jawa Barat</td>
                                </tr>
                                <tr>
                                    <td>Pengalaman</td>
                                    <td>:</td>
                                    <td id="resume-experience">1 Tahun</td>
                                </tr>
                                <tr>
                                    <td>Email</td>
                                    <td>:</td>
                                    <td>
                                        <a href="mailto:test@gmail.com" id="resume-email">test@gmail.com</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>No. HP</td>
                                    <td>:</td>
                                    <td>
                                        <a href="tel:08123456789" id="resume-phone">08123456789</a>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section Form -->
        <div class="row mb-3" id="form-section" style="display: none;"> <!-- Form awalnya disembunyikan -->
            <div class="card">
                <div class="card-body">
                    <h1 class="text-center">Edit Profile</h1>
                    <hr>
                    <form id="profile-form">
                        <!-- Nama -->
                        <div class="mb-3">
                            <label for="nama" class="form-label">Nama</label>
                            <input type="text" class="form-control" id="nama" name="nama" placeholder="Masukkan Nama Anda">
                        </div>
                        <!-- Role -->
                        <div class="mb-3">
                            <label for="role" class="form-label">Role</label>
                            <input type="text" class="form-control" id="role" name="role">
                        </div>
                        <!-- Availablity -->
                        <div class="mb-3">
                            <label for="availablity" class="form-label">Availablity</label>
                            <input type="text" class="form-control" id="availablity" name="availablity">
                        </div>
                        <!-- Usia -->
                        <div class="mb-3">
                            <label for="usia" class="form-label">Usia</label>
                            <input type="text" class="form-control" id="usia" name="usia">
                        </div>
                        <!-- Lokasi -->
                        <div class="mb-3">
                            <label for="lokasi" class="form-label">Lokasi</label>
                            <input type="text" class="form-control" id="lokasi" name="lokasi">
                        </div>
                        <!-- Pengalaman -->
                        <div class="mb-3">
                            <label for="pengalaman" class="form-label">Pengalaman</label>
                            <input type="text" class="form-control" id="pengalaman" name="pengalaman">
                        </div>
                        <!-- Email -->
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" name="email">
                        </div>
                        <!-- No. HP -->
                        <div class="mb-3">
                            <label for="no_hp" class="form-label">No. HP</label>
                            <input type="text" class="form-control" id="no_hp" name="no_hp">
                        </div>

                        <!-- Tombol Submit -->
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-full btn-primary" id="submit-btn" disabled>Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Fungsi untuk mengupdate data resume
        function updateResume(event) {
            event.preventDefault(); // Mencegah reload halaman saat submit form
            
            // Ambil nilai dari form
            const nama = document.getElementById('nama').value;
            const role = document.getElementById('role').value;
            const availablity = document.getElementById('availablity').value;
            const usia = document.getElementById('usia').value;
            const lokasi = document.getElementById('lokasi').value;
            const pengalaman = document.getElementById('pengalaman').value;
            const email = document.getElementById('email').value;
            const no_hp = document.getElementById('no_hp').value;

            // Update elemen-elemen dengan nilai dari form
            document.getElementById('resume-name').innerText = nama;
            document.getElementById('resume-role').innerText = role;
            document.getElementById('resume-availability').innerText = availablity;
            document.getElementById('resume-age').innerText = usia + ' Tahun';
            document.getElementById('resume-location').innerText = lokasi;
            document.getElementById('resume-experience').innerText = pengalaman + ' Tahun';
            document.getElementById('resume-email').innerText = email;
            document.getElementById('resume-email').href = 'mailto:' + email;
            document.getElementById('resume-phone').innerText = no_hp;
            document.getElementById('resume-phone').href = 'tel:' + no_hp;

            // Kembali ke mode tampilan setelah submit
            toggleResumeMode();
        }

        // Fungsi untuk toggle mode edit dan tampilan resume
        function toggleResumeMode() {
            // Ambil tombol resume, form section, dan tombol submit
            const resumeToggleBtn = document.getElementById('resume-toggle');
            const formSection = document.getElementById('form-section');
            const formInputs = document.querySelectorAll('input');
            const submitBtn = document.getElementById('submit-btn');

            // Jika tombol saat ini bertuliskan 'Resume', maka aktifkan mode edit
            if (resumeToggleBtn.innerText === 'Kontak') {
                // Ubah teks tombol menjadi 'Edit'
                resumeToggleBtn.innerText = 'Edit';

                // Tampilkan form dan aktifkan semua input form serta tombol submit
                formSection.style.display = 'block';
                formInputs.forEach(input => {
                    input.disabled = false; // Aktifkan input
                });
                submitBtn.disabled = false; // Aktifkan tombol submit

            } else {
                // Jika tombol saat ini bertuliskan 'Edit', maka kembali ke mode lihat
                resumeToggleBtn.innerText = 'Kontak';

                // Sembunyikan form dan nonaktifkan semua input form dan tombol submit
                formSection.style.display = 'none';
                formInputs.forEach(input => {
                    input.disabled = true; // Nonaktifkan input
                });
                submitBtn.disabled = true; // Nonaktifkan tombol submit
            }
        }

        // Event listener untuk tombol toggle resume
        document.getElementById('resume-toggle').addEventListener('click', toggleResumeMode);

        // Event listener untuk tombol submit
        document.getElementById('submit-btn').addEventListener('click', updateResume);

        // Nonaktifkan form inputs dan tombol submit pada saat halaman dimuat
        window.onload = () => {
            document.querySelectorAll('input').forEach(input => {
                input.disabled = true; // Nonaktifkan input pada awalnya
            });
            document.getElementById('submit-btn').disabled = true; // Nonaktifkan tombol submit pada awalnya
        };
    </script>
</body>
</html>
